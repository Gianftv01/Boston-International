{% schema %}
{
  "name": "Collections 3-Up",
  "settings": [
    {
      "type": "text",
      "id": "collection1_title",
      "label": "Title for Div 1",
      "default": "Collection 1 Title"
    },
    {
      "type": "text",
      "id": "collection1_description",
      "label": "Description for Div 1"
    },
    {
      "type": "url",
      "id": "collection1_link",
      "label": "Link for Div 1"
    },
    {
      "type": "image_picker",
      "id": "collection1_image",
      "label": "Background Image for Div 1"
    },
    {
      "type": "text",
      "id": "collection2_title",
      "label": "Title for Div 2",
      "default": "Collection 2 Title"
    },
    {
      "type": "text",
      "id": "collection2_description",
      "label": "Description for Div 2"
    },
    {
      "type": "url",
      "id": "collection2_link",
      "label": "Link for Div 2"
    },
    {
      "type": "image_picker",
      "id": "collection2_image",
      "label": "Background Image for Div 2"
    },
    {
      "type": "text",
      "id": "collection3_title",
      "label": "Title for Div 3",
      "default": "Collection 3 Title"
    },
    {
      "type": "text",
      "id": "collection3_description",
      "label": "Description for Div 3"
    },
    {
      "type": "url",
      "id": "collection3_link",
      "label": "Link for Div 3"
    },
    {
      "type": "image_picker",
      "id": "collection3_image",
      "label": "Background Image for Div 3"
    }
  ],
  "presets": [
    {
      "name": "Collections 3-Up",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}

<style>
  .collections-3up {
    padding: 2em 0;
    @media screen and (min-width: $wide) {
      padding: 4em 0;
    }
    .container {
      max-width: 1200px;
      .content {
        display: flex;
        flex-direction: column;
        gap: 2em;
        @media screen and (min-width: 768px) {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          grid-template-rows: repeat(6, 1fr);
          grid-column-gap: 18px;
          grid-row-gap: 18px;
        }
      }
      
      .div1, .div2, .div3 {
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        color: white;
        font-size: 1.5em;
        font-weight: bold;
        text-align: center;
        padding: 1em 1em 2em 1em;
        min-height: 200px;
        position: relative;
        &:before {
          content: "";
          background: linear-gradient(0deg, rgba(0, 0, 0, 0.50) -6.07%, rgba(102, 102, 102, 0.00) 85.62%);
          display: block;
          width: 100%;
          aspect-ratio: 516/370;
          position: absolute;
          bottom: 0;
          left: 0;
          z-index: 5;
        }
        strong {
          font-size: 1.5em;
        }
        strong, p, span {
          position: relative;
          z-index: 15;
        }
        span {
          text-transform: lowercase;
          text-decoration: underline;
          font-size: 0.8em;
          font-weight: 300;
        }
      }
      
      .div1 { 
        aspect-ratio: 516/752;
        strong {
          text-align: left;
        }
        @media screen and (min-width: 768px) {
          grid-area: 1 / 1 / 7 / 3;
        }
      }
      .div2 { 
        aspect-ratio: 516/370;
        strong {
          text-align: center;
        }
        @media screen and (min-width: 768px) {
          grid-area: 1 / 3 / 4 / 5;
        }
      }
      .div3 {
        aspect-ratio: 516/370;
        strong {
          text-align: center;
        }
        @media screen and (min-width: 768px) {
          grid-area: 4 / 3 / 7 / 5;
        }
      }
    }
  }
</style>

<section class="collections-3up">
  <div class="container">
    <div class="content">
      <!-- Div 1 -->
      <div class="div1" style="background-image: url('{{ section.settings.collection1_image | img_url: 'master' }}');">
        <a href="{{ section.settings.collection1_link }}" style="color: inherit; text-decoration: none;">
          <strong>{{ section.settings.collection1_title }}</strong>
          <p>{{ section.settings.collection1_description }}</p>
          <span>Shop Now</span>
        </a>
      </div>

      <!-- Div 2 -->
      <div class="div2" style="background-image: url('{{ section.settings.collection2_image | img_url: 'master' }}');">
        <a href="{{ section.settings.collection2_link }}" style="color: inherit; text-decoration: none;">
          <strong>{{ section.settings.collection2_title }}</strong>
          <p>{{ section.settings.collection2_description }}</p>
          <span>Shop Now</span>
        </a>
      </div>

      <!-- Div 3 -->
      <div class="div3" style="background-image: url('{{ section.settings.collection3_image | img_url: 'master' }}');">
        <a href="{{ section.settings.collection3_link }}" style="color: inherit; text-decoration: none;">
          <strong>{{ section.settings.collection3_title }}</strong>
          <p>{{ section.settings.collection3_description }}</p>
          <span>Shop Now</span>
        </a>
      </div>
    </div>
  </div>
</section>
