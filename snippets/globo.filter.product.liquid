{%- comment -%}Do not edit this file{%- endcomment -%}
{% raw %}
  {%- assign swatch_options = 'Colour~~Color' | downcase | split: "~~" | uniq -%}
  {%- assign image_options  = '' | downcase | split: "~~" | uniq -%}
  {%- assign text_options   = 'Size' | downcase | split: "~~" | uniq  -%}

  {%- assign image_size     = '265x265' -%}
  {%- assign no_image = 'https://cdn.shopify.com/s/images/themes/product-1.png' -%}

  {%- assign featured_image            = product.featured_image -%}
  {%- assign product_price             = product.price -%}
  {%- assign product_compare_at_price  = product.compare_at_price -%}
  {%- assign selected_or_first_available_variant = product.selected_or_first_available_variant -%}
  {%- assign variant_url = '' -%}
      {% if product.selected_variant %}
    {% assign selected_or_first_available_variant = product.selected_variant %}
    {% assign product_price             = selected_or_first_available_variant.price %}
    {% assign product_compare_at_price  = selected_or_first_available_variant.compare_at_price %}
    {% if selected_or_first_available_variant.image %}
      {% assign featured_image = selected_or_first_available_variant.image %}
    {% endif %}
  {% endif %}
          {%- assign images_count = product.images | size -%}

{% assign hide_product = false %}
{% if product.tags contains 'wholesaleonly' %}
  {% if customer %}
    {% unless customer.tags contains 'wholesale' %}
      {% assign hide_product = true %}
    {% endunless %}
  {% else %}
    {% assign hide_product = true %}
  {% endif %}
{% else %}
  {% if product.available == false %}
    {% assign hide_product = true %}
  {% endif %}
{% endif %}

<div {% if showPageData %} data-page="{{page}}"{% endif %} class="spf-col-xl-3 spf-col-lg-3 spf-col-md-4 spf-col-sm-4 spf-col-6 {% if hide_product %} hidden-product{% endif %}">
    <div class="spf-product-card spf-product-card__left spf-product-card__template-2{% unless product.available %} spf-soldout{% endunless %}">
        <div class="spf-product-card__inner">
        {%- unless product.available -%}
                          {%- elsif product_compare_at_price > product_price -%}
        <span translatable class="spf-product__label spf-product__label-sale sale-text">
                      {{translation.product.sale | default: "Sale"}}
                  </span>
                {%- endunless -%}
                <a class="spf-product-card__image-wrapper{% if images_count > 1 %} hover-effect{% endif %}" href="{{root_url}}{{ product.url }}{{variant_url}}" style="padding-top:100%; padding-top:100%;">
          {%- if images_count > 0 -%}
            {%- for image in product.images -%}
            <img
              data-variants="{% if image.variant_ids %}{{image.variant_ids | join: ','}}{% endif %}"
              class="gflazyload spf-product-card__image spf-product-card__image-{% if featured_image.id == image.id %}main{% elsif image.id == product.second_image.id %}secondary{% else %}hidden{% endif %}"
              srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
              src="{{image.src | img_url: image_size}}"
              data-src="{{image.src | img_lazyload_url}}"
              data-sizes="auto"
              data-aspectratio="{{image.aspect_ratio}}"
              data-parent-fit="contain"
              alt="{{image.alt | escape}}"
            />
            {%- endfor -%}
          {%- else -%}
          <img data-variants="" class="spf-product-card__image spf-product-card__image-main" src="{{no_image}}" alt="{{product.title | escape}}">
          {%- endif -%}
        </a>
        {%- if images_count > 1 -%}
        <div class="spf-product-card__images-navigation">
          <span class="image-navigation prev"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" class="spfs-icon" aria-hidden="true" focusable="false" role="presentation"><path d="m15 18-6-6 6-6"></path></svg></span>
          <span class="image-navigation next"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" class="spfs-icon" aria-hidden="true" focusable="false" role="presentation"><path d="m9 18 6-6-6-6"></path></svg></span>
        </div>
        {%- endif -%}
        </div>

        <div class="spf-product__info">
            <div class="h4 spf-product-card__title">
            <a translatable href="{{root_url}}{{ product.url }}{{variant_url}}">{{product.title}}</a>
            </div>
            <div class="spf-product-card__price-wrapper">
              {%- if product_compare_at_price > product_price -%}
                <span class="spf-product-card__oldprice{% unless currencyFormat contains 'money' %} money{% endunless %}">{{ product_compare_at_price | money }}</span>
                <span class="spf-product-card__saleprice{% unless currencyFormat contains 'money' %} money{% endunless %}">{{ product_price | money }}</span>
              {%- else -%}
                <span class="spf-product-card__price{% unless currencyFormat contains 'money' %} money{% endunless %}">{{ product_price | money }}</span>
              {%- endif -%}
            </div>
        </div>

        <form class="spf-product__form" action="{{ root_url }}/cart/add" method="post">
        <select name="id" class="spf-product__variants">
          {%- for variant in product.variants -%}
          <option data-option1="{{variant.option1 | escape}}" data-option2="{{variant.option2 | escape}}" data-option3="{{variant.option3 | escape}}" data-price="{{variant.price}}" data-compare_at_price="{{variant.compare_at_price}}" data-available="{{variant.available}}" data-image="{% if variant.image.src %}{{variant.image.src | img_url: image_size }}{% endif %}" {% if variant.id == selected_or_first_available_variant.id %} selected="selected" {% endif %} value="{{ variant.id }}">{{ variant.title }}</option>
          {%- endfor -%}
        </select>
                </form>
    </div>
</div>
{% endraw %}
